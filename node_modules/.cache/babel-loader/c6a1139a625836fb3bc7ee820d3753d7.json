{"ast":null,"code":"import _wrapRegExp from\"C:/Users/Jacky/Tweetme/Tweetme-2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapRegExp\";import _slicedToArray from\"C:/Users/Jacky/Tweetme/Tweetme-2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{ActionBtn}from'./buttons';import{UserDisplay,UserPicture}from'../profiles';export function ParentComment(props){var comment=props.comment;return comment.parent?/*#__PURE__*/React.createElement(Comment,{isRetweet:true,retweeter:props.retweeter,hideActions:true,className:' ',comment:comment.parent}):null;}export function Comment(props){var comment=props.comment,didRetweet=props.didRetweet,hideActions=props.hideActions,isRetweet=props.isRetweet,retweeter=props.retweeter;var _useState=useState(props.comment?props.comment:null),_useState2=_slicedToArray(_useState,2),actionComment=_useState2[0],setActionComment=_useState2[1];var className=props.className?props.className:'col-10 mx-auto col-md-6';className=isRetweet===true?\"\".concat(className,\" p-2 border rounded\"):className;var path=window.location.pathname;var match=path.match(/*#__PURE__*/_wrapRegExp(/([0-9]+)/,{commentid:1}));var urlCommentId=match?match.groups.commentid:-1;var isDetail=\"\".concat(comment.id)===\"\".concat(urlCommentId);var handleLink=function handleLink(event){event.preventDefault();window.location.href=\"/\".concat(comment.id);};var handlePerformAction=function handlePerformAction(newActionComment,status){if(status===200){setActionComment(newActionComment);}else if(status===201){if(didRetweet){didRetweet(newActionComment);}}};return/*#__PURE__*/React.createElement(\"div\",{className:className},isRetweet===true&&/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"small text-muted\"},\"Retweet via \",/*#__PURE__*/React.createElement(UserDisplay,{user:retweeter}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(UserPicture,{user:comment.user})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-11\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(UserDisplay,{includeFullName:true,user:comment.user})),/*#__PURE__*/React.createElement(\"p\",null,comment.content),/*#__PURE__*/React.createElement(ParentComment,{comment:comment,retweeter:comment.user})),/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-group px-5\"},actionComment&&hideActions!==true&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",null,\" \",/*#__PURE__*/React.createElement(ActionBtn,{comment:actionComment,didPerformAction:handlePerformAction,action:{type:\"like\",display:\"Likes\"}})),/*#__PURE__*/React.createElement(\"div\",null,\" \",/*#__PURE__*/React.createElement(ActionBtn,{comment:actionComment,didPerformAction:handlePerformAction,action:{type:\"unlike\",display:\"comment\"}})),/*#__PURE__*/React.createElement(\"div\",null,\" \",/*#__PURE__*/React.createElement(ActionBtn,{comment:actionComment,didPerformAction:handlePerformAction,action:{type:\"retweet\",display:\"Retweet\"}}))),isDetail===true?null:/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-primary btn-sm\",onClick:handleLink},\"View\")))));}","map":{"version":3,"sources":["C:/Users/Jacky/Tweetme/Tweetme-2/tweetme2-web/src/tweets/commentdetail.js"],"names":["React","useState","ActionBtn","UserDisplay","UserPicture","ParentComment","props","comment","parent","retweeter","Comment","didRetweet","hideActions","isRetweet","actionComment","setActionComment","className","path","window","location","pathname","match","urlCommentId","groups","commentid","isDetail","id","handleLink","event","preventDefault","href","handlePerformAction","newActionComment","status","user","content","type","display"],"mappings":"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","sourcesContent":["\r\nimport React, {useState}  from 'react'\r\n\r\nimport {ActionBtn} from './buttons'\r\n\r\nimport {\r\n  UserDisplay,\r\n  UserPicture\r\n} from '../profiles'\r\n\r\nexport function ParentComment(props){\r\n    const {comment} = props\r\n    return comment.parent ? <Comment isRetweet retweeter={props.retweeter} hideActions className={' '} comment={comment.parent} /> : null\r\n  }\r\n  export function Comment(props) {\r\n      const {comment, didRetweet, hideActions, isRetweet, retweeter} = props\r\n      const [actionComment, setActionComment] = useState(props.comment ? props.comment : null)\r\n      let className = props.className ? props.className : 'col-10 mx-auto col-md-6'\r\n      className = isRetweet === true ? `${className} p-2 border rounded` : className\r\n      const path = window.location.pathname\r\n      const match = path.match(/(?<commentid>\\d+)/)\r\n      const urlCommentId = match ? match.groups.commentid : -1\r\n      const isDetail = `${comment.id}` === `${urlCommentId}`\r\n      \r\n      const handleLink = (event) => {\r\n        event.preventDefault()\r\n        window.location.href = `/${comment.id}`\r\n      }\r\n      const handlePerformAction = (newActionComment, status) => {\r\n        if (status === 200){\r\n          setActionComment(newActionComment)\r\n        } else if (status === 201) {\r\n          if (didRetweet){\r\n            didRetweet(newActionComment)\r\n          }\r\n        }\r\n        \r\n      }\r\n      \r\n      return <div className={className}>\r\n         {isRetweet === true && <div className='mb-2'>\r\n          <span className='small text-muted'>Retweet via <UserDisplay user={retweeter} /></span>\r\n        </div>}\r\n        <div className='d-flex'>\r\n       \r\n          <div className=''>\r\n            <UserPicture user={comment.user} />\r\n          </div>\r\n          <div className='col-11'>\r\n              <div>\r\n             \r\n                <p>\r\n                  <UserDisplay includeFullName user={comment.user} />\r\n                </p>\r\n                <p>{comment.content}</p>\r\n               \r\n                <ParentComment comment={comment} retweeter={comment.user} />\r\n              </div>\r\n          <div className='btn btn-group px-5'>\r\n          {(actionComment && hideActions !== true) && <React.Fragment>\r\n                 <div> <ActionBtn comment={actionComment} didPerformAction={handlePerformAction} action={{type: \"like\", display:\"Likes\"}}/></div>\r\n\r\n                 <div> <ActionBtn comment={actionComment} didPerformAction={handlePerformAction} action={{type: \"unlike\", display:\"comment\"}}/></div>\r\n\r\n                 <div> <ActionBtn comment={actionComment} didPerformAction={handlePerformAction} action={{type: \"retweet\", display:\"Retweet\"}}/></div>\r\n                </React.Fragment>\r\n          }\r\n                  {isDetail === true ? null : <button className='btn btn-outline-primary btn-sm' onClick={handleLink}>View</button>}\r\n                </div>\r\n                </div>\r\n      </div>\r\n      </div>\r\n    }\r\n  "]},"metadata":{},"sourceType":"module"}